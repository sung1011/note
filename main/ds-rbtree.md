# 红黑树 rbtree

      不严格控制左、右子树层级差，但再平衡时效率更高。
      红黑树的每个节点上都有存储位表示节点的颜色，可以是红(Red)或黑(Black)。

## 特性

![img](res/rbtree.png)

1. 每个节点或者是黑色，或者是红色。
2. 根节点是黑色。
3. 每个叶子节点（NIL）是黑色。 [注意：这里叶子节点，是指为空(NIL或NULL)的叶子节点！]
4. 如果一个节点是红色的，则它的子节点必须是黑色的。
5. 从任一节点到其每个叶子的所有简单路径都包含相同数目的黑色节点。

> 特性(3)中的叶子节点，是只为空(NIL或null)的节点。  
> 特性(5)，确保没有一条路径会比其他路径长出俩倍。因而，红黑树是相对是接近平衡的二叉树。

## 时间复杂度 O(lgn)

高度: 一棵含有n个节点的红黑树的高度至多为logN  
增删改: logN  
遍历: N  

## 场景

存储有序的数据

## 操作

### 左旋转 为保持自平衡

                                     z
         x                          / \
        / \      --(左旋)-->        x   b
       y   z                      / \
          / \                    y   a
         a   b

### 右旋转 为保持自平衡

                                     y
         x                          / \
        / \      --(右旋)-->        a   x
       y   z                         /  \
      / \                           b     z
      a  b

### 添加

多种情况...

### 删除

多种情况...

## 对比

### vs AVL平衡二叉树

- 平衡

      AVL-tree 严格控制左、右子树层级差不大于1
      rb-tree 不严格控制左、右子树层级差，但再平衡时效率更高。

## ref

[wiki](https://zh.wikipedia.org/wiki/%E7%BA%A2%E9%BB%91%E6%A0%91)
