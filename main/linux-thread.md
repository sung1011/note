# linux线程

## 线程概念

        线程是进程的一个实体, 是CPU调度和分派的基本单位, 它是比进程更小的能独立运行的基本单位. 线程自己基本上不拥有系统 资源, 只拥有一点在运行中必不可少的资源(如程序计数器, 一组寄存器和栈), 但是它可与同属一个进程的其他的线程共享进程所拥有的全部资源. 线程间通信主要通过共享内存, 上下文切换很快, 资源开销较少, 但相比进程不够稳定容易丢失数据.
  
## 内容  

        同一进程中的多条线程将共享该进程中的全部系统资源, 如虚拟地址空间, 文件描述符和信号处理等等.
        但同一进程中的多个线程有各自的调用栈(call stack), 自己的寄存器环境(register context), 自己的线程本地存储(thread-local storage).

## 状态

- 产生 spawn  
- 中断 block  
- 非中断 unblock  
- 结束 finish
  
## 分类

### 内核线程

    KLT kernel-level-thread 
    创建 销毁 切换都由内核完成

### 用户线程

    ULT user-level-thread
    速度比KLT快得多
    OS内核无法感知ULT的存在