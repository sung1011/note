# DDOS ack flood

    TCP连接建立后, 所有TCP报文都带有ack标志位
    S端收到ack后, 检查数据包四元组是否存在
    合法, 则传递向应用层
    非法, 返回RST包告知端口未开放
    这种攻击的数据包一般都很大

## 影响

1. 消耗CPU和带宽

## 防御

- 利用对称性判断来分析出是否有攻击存在.所谓对称型判断, 就是收包异常大于发包, 因为攻击者通常会采用大量ACK包, 并且为了提高攻击速度, 一般采用内容基本一致的小包发送.这可以作为判断是否发生ACK Flood的依据, 但是目前已知情况来看, 很少有单纯使用ACK Flood攻击, 都会和其他攻击方法混合使用, 因此, 很容易产生误判.

- 一些防火墙应对的方法是：建立一个hash表, 用来存放TCP连接“状态”, 相对于主机的TCP stack实现来说, 状态检查的过程相对简化.例如, 不作sequence number的检查, 不作包乱序的处理, 只是统计一定时间内是否有ACK包在该“连接”(即四元组)上通过, 从而“大致”确定该“连接”是否是“活动的”.