# 状态模式

    允许一个对象在其内部状态改变时改变它的行为

## 特点

- 封装了转换规则
- 枚举可能的状态
- 方便扩展新状态

## 实现

- 状态改变后, 改变对象主体, 即改变了对象后续的行为

> 状态主体对象被挂在Machine类的属性上, 某一流程走完(方法执行后)切换其他状态主体

## code

- [go](src/go/dp/state.go)

- [php](src/php_design_patterns/state/state.php)

## 场景

- 审批流程
  - 假设我们有一个报销的流程: 员工提交报销申请 -> 直属部门领导审批 -> 财务审批 -> 结束
  - 在这个审批流中, 处在不同的环节就是不同的状态
  - 而流程的审批、驳回就是不同的事件
- 状态不多, 但状态变更触发的业务逻辑比较复杂
- 工作流
- 电商
- 外卖
- 游戏